<!-- diary.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>日記 | 午後の眠り</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
      <header class="main-header">
        <a href="index.html" class="logo-link"> <div class="logo">午後の眠り</div> </a>
        <button class="hamburger-menu" aria-label="メニューを開く">
            <span class="line line-top"></span>
            <span class="line line-middle"></span>
            <span class="line line-bottom"></span>
        </button>
    </header>x
    <nav class="side-menu">
        <ul>
            <li><a href="index.html">TOP</a></li>
            <li><a href="characters.html">キャラクター</a></li>
            <li><a href="diary.html">日記</a></li>
            <li><a href="gallery.html">ギャラリー</a></li>
            <li><a href="contact.html">連絡先</a></li>
        </ul>
    </nav>

  <main class="diary-main">
    <h1>日記帳</h1>
    <div class="diary-list">
      <div class="diary-card dark" id="lockedDiary">
        <p>🔒 ？？？？</p>
      </div>
      <a class="diary-card light" href="diary_light.html">
        <p>📖 ある人物の日記</p>
      </a>
    </div>

     <!-- 黒背景モーダル（0606入力） -->
      <div id="passwordOverlay" class="overlay-dark">
        <div class="popup-dark">
            <button class="close-btn-dark" id="closePasswordPopup">&times;</button>
            <h2>パスワードを入力してください</h2>
            <input type="text" id="passwordInput" placeholder="4桁のパスワード" maxlength="4">
            <br>
            <button id="checkPassword">送信</button>
            <p id="errorText" class="error-message" style="display: none;">パスワードが違います</p>
        </div>
    </div>
</main>

  <footer class="footer">
    <p>© 2025 kacchi All rights reserved.</p>
    <div class="sns-links">
      <a href="https://twitter.com/koutaupro">X</a>
      <a href="https://www.youtube.com/channel/@koutarouoo">YouTube</a>
      <a href="https://www.nicovideo.jp/user/128840994">ニコニコ</a>
      <a href="https://koutarouoo.booth.pm/">BOOTH</a>
    </div>
  </footer>

  <script src="script.js"></script>

  <script>
  const lockedDiary = document.getElementById("lockedDiary");
  const modal = document.getElementById("passwordOverlay");
  const closeModal = document.getElementById("closePasswordPopup");
  const submitBtn = document.getElementById("checkPassword");
  const input = document.getElementById("passwordInput");
  const errorText = document.getElementById("errorText"); // ← 追加

  lockedDiary.onclick = () => {
    modal.style.display = "flex";
    input.value = "";
    errorText.style.display = "none"; // ← モーダル開いたときエラー消す
    input.focus();
  };

  closeModal.onclick = () => {
    modal.style.display = "none";
    errorText.style.display = "none"; // ← 閉じたときも消す
  };

  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
      errorText.style.display = "none"; // ← 背景クリックで閉じたときも
    }
  });

  submitBtn.onclick = () => {
    if (input.value === "0606") {
      errorText.style.display = "none"; // 正解ならエラー非表示
      document.body.classList.add("fade-out");
      setTimeout(() => {
        window.location.href = "diary_dark.html";
      }, 500);
    } else {
      errorText.style.display = "block"; // ← エラー表示！！
    }
  };
</script>


</body>
</html>
